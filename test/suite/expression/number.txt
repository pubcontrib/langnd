#!/usr/local/bin/langnd

import ["read", "evaluate", "get"] from core

$testing = $evaluate($read("testing.txt", null))
$returns = $get($testing, "returns")
$lexFails = $get($testing, "lexFails")
$parseFails = $get($testing, "parseFails")

$returns(<0>, 0)
$returns(<-0>, 0)
$returns(<+0>, 0)
$returns(<1>, 1)
$returns(<-1>, -1)
$returns(<+1>, 1)
$returns(<1.0>, 1)
$returns(<-1.0>, -1)
$returns(<+1.0>, 1)
$returns(<100>, 100)
$returns(<-100>, -100)
$returns(<+100>, 100)
$returns(<-1-2-3>, -3)
$returns(<+1+2+3>, 3)
$returns(<1 2 3>, 3)
$returns(<-1 -2 -3>, -3)
$returns(<+1 +2 +3>, 3)
$returns(<-1.0-2.0-3.0>, -3)
$returns(<+1.0+2.0+3.0>, 3)
$returns(<1.0 2.0 3.0>, 3)
$returns(<-1.0 -2.0 -3.0>, -3)
$returns(<+1.0 +2.0 +3.0>, 3)

$parseFails("32768", "32768")
$parseFails("-32768", "-32768")
$parseFails("+32768", "+32768")
$parseFails("000000000000000000000000000", "000000000000000000000000000")
$parseFails("-000000000000000000000000000", "-000000000000000000000000000")
$parseFails("+000000000000000000000000000", "+000000000000000000000000000")
$parseFails("000000000000000000000000000.0", "000000000000000000000000000.0")
$parseFails("-000000000000000000000000000.0", "-000000000000000000000000000.0")
$parseFails("+000000000000000000000000000.0", "+000000000000000000000000000.0")
$parseFails("999999999999999999999999999", "999999999999999999999999999")
$parseFails("-999999999999999999999999999", "-999999999999999999999999999")
$parseFails("+999999999999999999999999999", "+999999999999999999999999999")
$parseFails("999999999999999999999999999.9", "999999999999999999999999999.9")
$parseFails("-999999999999999999999999999.9", "-999999999999999999999999999.9")
$parseFails("+999999999999999999999999999.9", "+999999999999999999999999999.9")

$lexFails(".1", ".1")
$lexFails("-.1", "-.1")
$lexFails("+.1", "+.1")
$lexFails("0..1", "0..1")
$lexFails("-0..1", "-0..1")
$lexFails("+0..1", "+0..1")
$lexFails("--1", "--1")
$lexFails("++1", "++1")
