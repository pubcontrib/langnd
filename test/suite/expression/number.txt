#!/usr/local/bin/langnd

import ["read", "evaluate", "get"] from core

$testing = $evaluate($read("testing.txt", null))
$returns = $get($testing, "returns")
$lexFails = $get($testing, "lexFails")
$parseFails = $get($testing, "parseFails")

$returns(<0>, 0)
$returns(<-0>, 0)
$returns(<+0>, 0)
$returns(<1>, 1)
$returns(<-1>, -1)
$returns(<+1>, 1)
$returns(<1.0>, 1.0)
$returns(<-1.0>, -1.0)
$returns(<+1.0>, 1.0)
$returns(<100>, 100)
$returns(<-100>, -100)
$returns(<+100>, 100)
$returns(<-1-2-3>, -3)
$returns(<+1+2+3>, 3)
$returns(<1 2 3>, 3)
$returns(<-1 -2 -3>, -3)
$returns(<+1 +2 +3>, 3)
$returns(<-1.0-2.0-3.0>, -3.0)
$returns(<+1.0+2.0+3.0>, 3.0)
$returns(<1.0 2.0 3.0>, 3.0)
$returns(<-1.0 -2.0 -3.0>, -3.0)
$returns(<+1.0 +2.0 +3.0>, 3.0)
$returns(<0.999999999999999999999999999>, 0.999984)
$returns(<-0.999999999999999999999999999>, -0.999984)
$returns(<+0.999999999999999999999999999>, 0.999984)
$returns(<000000000000000000000000001>, 1)
$returns(<-000000000000000000000000001>, -1)
$returns(<+000000000000000000000000001>, 1)
$returns(<000000000000000000000000000.1>, 0.1)
$returns(<-000000000000000000000000000.1>, -0.1)
$returns(<+000000000000000000000000000.1>, 0.1)

$parseFails("2147483648", "2147483648")
$parseFails("-2147483648", "-2147483648")
$parseFails("+2147483648", "+2147483648")
$parseFails("32768.0", "32768.0")
$parseFails("-32768.0", "-32768.0")
$parseFails("+32768.0", "+32768.0")
$parseFails("999999999999999999999999999", "999999999999999999999999999")
$parseFails("-999999999999999999999999999", "-999999999999999999999999999")
$parseFails("+999999999999999999999999999", "+999999999999999999999999999")
$parseFails("999999999999999999999999999.9", "999999999999999999999999999.9")
$parseFails("-999999999999999999999999999.9", "-999999999999999999999999999.9")
$parseFails("+999999999999999999999999999.9", "+999999999999999999999999999.9")

$lexFails(".", ".")
$lexFails("-", "-")
$lexFails("+", "+")
$lexFails("-.", "-.")
$lexFails("+.", "+.")
$lexFails("0.", "0.")
$lexFails("-0.", "-0.")
$lexFails("+0.", "+0.")
$lexFails(".1", ".1")
$lexFails("-.1", "-.1")
$lexFails("+.1", "+.1")
$lexFails("0..1", "0..1")
$lexFails("-0..1", "-0..1")
$lexFails("+0..1", "+0..1")
$lexFails("--1", "--1")
$lexFails("++1", "++1")
